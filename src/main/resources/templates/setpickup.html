<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <title>Pedir un conductor</title>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous"></link>        
        <script type="text/javascript" src="../static/angular.min.js" th:src="@{/angular.min.js}"></script>
        <script type="text/javascript" src="../static/app/app.module.js" th:src="@{/app/app.module.js}"></script>
        <script type="text/javascript" src="../static/app/conductores.controller.js" th:src="@{/app/conductores.controller.js}"></script>
        <script src="./js/js.js"></script>

    </head>
    <body ng-app="app" ng-controller="ConductorsController as vm" style="background-color: #E0F8F7;">
        <header>
            <div id="imagen" class="img-responsive text-center">
                <img style="margin-top: 20px;margin-bottom: 20px;" src="./img/MapsIESBorjaMollMaps.jpg" alt="Palma map"/>
            </div>
        </header>
        <div id="requestcar" class="container-fluid  text-center">
            <div class="row">
                <div class="col-sm-12 col-md-12">
                    <h2 style="margin-top: 20px;margin-bottom: 20px;">Origen:  <input type="text" name="origen" value="Calle Caracas, 4A" id="origen"></input></h2>
                </div>
            </div>
           <div class="row">
                <div class="col-sm-12 col-md-12">
                    <h2 style="margin-top: 20px;margin-bottom: 20px;">Destino: <input type="text" name="destino" id="destino"></input></h2>
                </div>
            </div>
            <div id="alerta" style="display:none" class="alert alert-danger" role="alert">
                <span class="glyphicon glyphicon-exclamation-sign"></span>
                <span class="sr-only">Error:</span>
                Introduce un origen/destino válido.
              </div>
            <div class="row">
                <div class="col-sm-12 col-md-12">
                    <button style="margin-top: 20px;margin-bottom: 20px;" type="button" id="requestCar" onclick="requestCar()" class="btn-primary btn-lg">Pedir un Cotxox</button>
                </div>
            </div>
        </div>
        <div id="acceptPayment" style="display:none" class="container-fluid  text-center">
            <h2 style="margin-top: 20px;margin-bottom: 20px;" th:text="'Coste total del trayecto: ' + ${costeTotal} + ' €'"></h2>
            <button style="margin-top: 20px;margin-bottom: 20px;" class="btn-primary btn-lg" type="button" id="requestCar" onclick="acceptPayment()">Confirmar y solicitar un conductor</button>
        </div>
        <div  id="ride" style="display:none" class="container-fluid  text-center">
            <div class="row  text-center">
                <div class="col-sm-6 col-md-6">
                  <div style="margin-top: 20px;margin-bottom: 20px;" class="thumbnail text-center">
                      <h2>Conductor:</h2>
                      <div ng-repeat="conductor in vm.conductores">
                      <img ng-if="$index == 1" src="./img/ConductorRick.jpg" alt="Conductor"></img>
                      </div>
                      <div ng-repeat="conductor in vm.conductores" class="caption">
                        <h2 ng-if="$index == 1">{{conductor.nombre}}</h2>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div style="margin-top: 20px;margin-bottom: 20px;" class="thumbnail text-center">
                      <h2>Vehículo:</h2>
                      <img src="./img/VehiculoRick.jpg" alt="Vehiculo"></img>
                    <div class="caption">
                        <h2>Space crusher</h2>
                    </div>
                  </div>
                </div>
            </div>
            <h2 style="margin-top: 20px;margin-bottom: 20px;" class="text-center">Puntuación media: 3.4 &#9734;</h2>
            <a href="payment"><button style="margin-top: 20px;margin-bottom: 20px;" class="btn-primary btn-lg" type="button" id="btnride" onclick="ride()">Llévame!</button></a>
        </div>
    </body>
</html>